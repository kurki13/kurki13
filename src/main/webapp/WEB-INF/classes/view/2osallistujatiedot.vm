#set($valittuKurssi = $KurssiKyselyt.kurssiIDlla($session.getAttribute('selected_course_id')))

<h3>$bundle.getString("2participants")</h3>

<form name="osallistujatiedot" action="" method=get class="form-inline">

    <b>$bundle.getString("isosnimi"):</b>
    <input type="text" class="form-control form-inline" style="width:150px" name="filterSukunimi">

##haetaan kurssin ryhmät, ja jätetään pois mystinen ryhmä "0"
#set ($ryhmat = [])
#foreach($r in $OpetusKyselyt.opetusTiedot($valittuKurssi))
    #if ($r.ilmo_jnro != 0)
##lisätään tulostus muuttujaan 'var' jota ei käytetä missään, muuten velocity haluaa tulostaa "true" kun listaan lisäys on onnistunut
        #set ($var = $ryhmat.add($r.ilmo_jnro))
    #end
#end

    <b>$bundle.getString("ryhma"):</b>
    <select name="ryhma" class="form-control form-inline" style="width:100px">
    #foreach($r in $ryhmat)
        #if($r == $params.get('ryhma'))
        <option value=$r selected>$r</option>
        #else
        <option value=$r>$r</option>
        #end
    #end
    </select>

    <b>$bundle.getString("camelopnro"):</b>
    <input type="text" class="form-control form-inline" style="width:150px" name="filterOpnro">

##Korvaa numero halutulla key:llä
    #set ($tyypit = {1 : $bundle.getString("tiedot") , 2 : $bundle.getString("haelisatop") ,
    3 : $bundle.getString("haepalop")})

    <select name="toiminto" class="form-control form-inline" style="width:350px">
    #if (!$params.get('toiminto'))
        <option value="" selected>-- $bundle.getString("valitse_toiminto") --</option>
    #end
    #foreach($t in $tyypit.entrySet())
        #if($t.key == $params.get('toiminto'))
        <option value=$t.key selected>$t.value</option>
        #else
        <option value=$t.key>$t.value</option>
        #end
    #end
    </select>

    <input type=submit class="btn" value=">>>">
</form>

##valittu $params.get('lisääTähänNimi')

</body>
<html>